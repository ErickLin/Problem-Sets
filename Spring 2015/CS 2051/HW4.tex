\documentclass[a4paper, 12pt]{article}

\usepackage{amsmath}
\allowdisplaybreaks
\usepackage{amssymb}
\usepackage{bm}

\begin{document}
	\section*{CS 2051 - HW4 Solutions}
	
	\begin{enumerate}
		\item (a)
		\begin{align*}
		G(x) &= \sum_{n = 0}^{\infty} (2^n + 3^n)x^n \\
		&= \sum_{n = 0}^{\infty} 2^n + \sum_{n = 0}^{\infty} 3^n \\
		&= \frac{1}{1 - 2x} + \frac{1}{1 - 3x}
		\end{align*}
		(b)
		\begin{align*}
		G(x) &= \sum_{r = 0}^{\infty} (r + 1)x^r \\
		&= \frac{d}{dx}(\sum_{r = 0}^{\infty} x^r) \\
		&= \frac{d}{dx}\left( \frac{1}{1 - x} \right) \\
		&= \frac{1}{(1-x)^2}
		\end{align*}
		
		\item
		\begin{align*}
		\left( \sum_{n = 0}^{\infty}a_nx^n \right) \left( \sum_{n = 0}^{\infty}b_nx^n \right) &= a_0b_0 + (a_0b_1 + a_1b_0)x + (a_0b_2 + a_1b_1 + a_2b_0)x^2 + \cdots \\
		&= \sum_{n = 0}^{\infty}\left( \sum_{k = 0}^{n}a_k b_{n - k} \right)x^n
		\end{align*}
		
		\item (a) The Taylor expansion for this function is
		\[ 2 + 8x^2 + 32x^4 + \cdots \]
		which has coefficients in order of degree following the sequence
		\[ 2, 0, 8, 0, 32, \cdots. \]
		The sequence is then
		\[ a_r = \left\{
			\begin{array}{lr}
				2(4)^{r/2} &: r \equiv 0 \mod{2} \\
				0 &: r \equiv 1 \mod{2}
			\end{array}
		\right\}, \; r \geq 0. \]
		(b)
		\begin{align*}
		A(x) &= \frac{2}{1 + 2x} + \frac{3x}{1 + 2x} - \frac{6x^2}{1 + 2x} \\
		&= (2 + 3x - 6x^2)\sum_{n = 0}^{\infty}(-2x)^n \\
		&= \sum_{n = 0}^{\infty}\left[2(-2)^n + 3(-2)^{n - 1} - 6(-2)^{n - 2}\right]x^n,
		\end{align*}
		which follows from the property of convolution. The sequence is then
		\[ a_r = 2(-2)^r + 3(-2)^{r - 1} - 6(-2)^{r - 2}, \; r \geq 0. \]
		
		\item First, consider the function
		\[ \frac{1}{1 - x} = \sum_{r = 0}^{\infty}x^r. \]
		Differentiating three times, we have
		\[ \frac{6}{(1 - x)^4} = \sum_{r = 0}^{\infty}(r + 1)(r + 2)(r + 3)x^r. \]
		Now multiply both sides by $x^2$ to "shift" the coefficients over twice:
		\[ \frac{6x^2}{(1 - x)^4} = \sum_{r = 0}^{\infty}(r - 1)r(r + 1)x^r, \]
		which is the correct generating function $A(x)$ because the $r$th coefficient matches $\alpha_r$. \par
		Let
		\[ B(x) = \frac{A(x)}{1 - x} = \frac{6x^2}{(1 - x)^5}. \]
		Then $B(x)$ is the generating function for the sequence with terms $b_n = \sum_{r = 0}^{n}\alpha_r$. To find a closed form expression for each term $b_n$, consider the function $\frac{1}{1 - x}$ again and differentiate four times to obtain
		\[ \frac{-24}{(1 - x)^5} = \sum_{n = 0}^{\infty}(n + 1)(n + 2)(n + 3)(n + 4)x^n. \]
		Multiplying both sides by $-x^2 / 4$, we have
		\[ \frac{6x^2}{(1 - x)^5} = B(x) = \sum_{n = 0}^{\infty} \frac{(n - 1)n(n + 1)(n + 2)x^n}{-4}. \]
		Then each term $b_n$ is $\frac{(n - 1)n(n + 1)(n + 2)}{-4}$.

		\item (a) By a generating function identity,
		\[ \sum_{n = 0}^{\infty} \dbinom{r + s}{n}x^n = (1 + x)^{r + s}. \]
		Also, by the convolution property of generating functions,
		\begin{align*}
		\sum_{n = 0}^{\infty} \left( \sum_{k = 0}^{n} \dbinom{r}{k}\dbinom{s}{n - k} \right)x^n &= \left( \sum_{n = 0}^{\infty}\dbinom{r}{n}x^n \right)\left( \sum_{n = 0}^{\infty}\dbinom{s}{n}x^n \right) \\
		&= (1 + x)^r(1 + x)^s \\
		&= (1 + x)^{r + s}
		\end{align*}
		Because the generating functions are equivalent, the series (which are the sums of the coefficients) are as well. \par
		(b) Following the hint, by a generating function identity, multiplying by $z$ and adding a term to $X(z)$ produces
		\begin{gather*}
		\dbinom{n + 1}{0}z^0 + zX(z) = (1 + z)^{n + 1}. \\
		X(z) = \frac{(1 + z)^{n + 1} - 1}{z}
		\end{gather*}
		Reversing the order of summation for $Y(z)$,
		\begin{align*}
		Y(z) &= \sum_{k = 0}^{n}\left( \sum_{m = 0}^{\infty}\dbinom{k}{m}z^m \right) \\
		&= \sum_{k = 0}^{n}(1 + z)^k \\
		&= \sum_{k = n + 1}^{\infty}(1 + z)^k - \sum_{k = 0}^{\infty}(1 + z)^k \\
		&= \frac{(1 + z)^{k + 1}}{z} - \frac{1}{z}
		\end{align*}
		The expressions for $X(z)$ and $Y(z)$ are equivalent.
	\end{enumerate}
\end{document}